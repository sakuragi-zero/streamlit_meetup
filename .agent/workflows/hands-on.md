---
description: 人口流動可視化アプリ開発のハンズオン手順。
---

// turbo-all

このワークフローは、日本地図を用いた人口流動可視化アプリの開発を体験するためのガイドです。

### 1. イメージの作成
ワイヤーフレームのイメージを作成するためのヒアリングをユーザーにしてください。
どのようなダッシュボードを作るのか？どのような雰囲気のダッシュボードを作るのか？など。
デフォルトで良い場合は以下のプロンプトで作成してください。
```
人口流動を1年を通して観測した結果を日本地図のヒートマップで可視化してください。データはダミーで良いです。2020年から2025年を選択できるバーと日本の総人口の数字を表示し右側にかく都道府県別の人口をテーブル形式で表示してください。可視化される地図は高解像度を優先してください。作成する前にイメージを作成してください。
背景は白で文字は見やすい色にしてください。
ヒートマップの色は赤系にしてください。
どの色がどの数値を表すかバーと色を一覧にして図の下に配置してください。

```


### 2. 素材の準備
ユーザーのヒアリングを下に作成してください。
デフォルトで良い場合は以下を実行してください。
高品質な日本地図データ（GeoJSON）をローカルに取得します。
```bash
curl -L "https://raw.githubusercontent.com/dataofjapan/land/master/japan.geojson" -o assets/japan.geojson
```

### 3. 実装
ユーザーのヒアリングを下に作成してください。
デフォルトで良い場合は以下を実行してください。
以下の順番でファイルを実装します（エージェントに生成を依頼してください）。
1. `services/data_service.py`: ダミーデータの生成ロジック。
2. `views/map_view.py`: `choropleth_map` を用いた地図描画（ローカルGeoJSONを使用）。
3. `assets/style.css`: ユーザーのヒアリングから作成したイメージを反映してください。
4. `app.py`: メインのレイアウト構成。

### 4. エラーチェックとデバッグ
実装後、動作を検証します。
```bash
# check-errors ワークフローを実行
/check-errors
```
**注意**: 画面が白い場合は、GeoJSONのパスやPlotlyの `featureidkey`（今回は `properties.nam_ja`）が正しいか再確認してください。

### 5. 成果物の記録
動作が確認できたら、スクリーンショットを撮影して記録します。
```bash
/capture-screenshot
```

### 6. 完成
`walkthrough.md` を作成し、学んだ内容と成果物をまとめます。